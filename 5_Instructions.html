<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0">
    <title>Instructions</title>	
	<script src="jspsych-6.1.0/jspsych.js" ></script>
	<script src="extra_functions/jspsych-instructions-timer-enhanced.js"></script>
	<script src="jatos.js"></script>
	<link rel="stylesheet" href="jspsych-6.1.0/css/jspsych.css" type="text/css"></link>
	
	<style>	body {background-color: #b9c6c7; font-family: sans-serif; color: black;} </style>
	<style> p {font-size: 125%; margin-top:0px; margin-right:100px; margin-bottom:20px; margin-left: 100px;} </style>
	<style> ul {font-size: 125%; margin-top:0px; margin-right:100px; margin-bottom:20px; margin-left: 100px; cursor:default;} </style>
	<style> .instruct{width:100%; color: black; text-align:center; cursor:default;} </style>
	<style> .header {position: fixed; left:0; top:0; width:100%; background-color:#8f8d8d; color: white; text-align: center;cursor:default;} </style>
  </head>

  <body>
  <script>

		//start timeline
		jatos.onLoad(function() {

			//make a timeline
			let timeline =[]; 

			let instructions = {
				phase_1: {
					type: "instructions-timer-enhanced",
					pages : [				
							"<div class= 'header'>"+
								"<h1> Task Instructions </h1>"+
							"</div>"+	
							"<div class='instruct'> <br>"+
								"<p> Welcome to the experiment.</p>" + 
							"</div>",
						],
						
						show_clickable_nav: true,
						button_label_next: "<span style='color: black'd;> <strong> Next </stong></span>",
						timer_on: false
				},
				phase_2: {
					type: "instructions-timer-enhanced",
					pages : [				
							"<div class= 'header'>"+
								"<h1> Task Instructions </h1>"+
							"</div>"+	
							"<div class='instruct'> <br>"+
								"<p> PHASE 2.</p>" + 
							"</div>",
						],
						
						show_clickable_nav: true,
						button_label_next: "<span style='color: black'd;> <strong> Next </stong></span>",
						timer_on: false
				}
			}

			timeline.push(instructions['phase_'+jatos.studySessionData.phase_counter]);

			jsPsych.init({
				
				timeline: timeline,

				on_finish: function(data) {

					// Make JATOS remember that this session was run
                    jatos.studySessionData.latestFinishedComponentId    = jatos.componentId;
                    jatos.studySessionData.latestFinishedComponentPos   = jatos.componentPos;
                    jatos.studySessionData.latestFinishedComponentTitle = jatos.componentProperties.title;

					jatos.submitResultData("[instructions_start---" + 
					JSON.stringify(jatos.studySessionData) +
					"---instructions_end]", jatos.startNextComponent);
					}
			});

		});


	</script>
</body>
</html>